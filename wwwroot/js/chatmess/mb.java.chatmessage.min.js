function validation(){var n=$.Deferred(),i=$("#firstName"),t=$("#clientEmail"),r=$("#message");return $.each([i[0],t[0],r[0]],function(){if(this.value){var i=$("#clientEmail").val();isValidEmailAddress(i)==!0?n.resolve():($(t).css("border-color","red"),n.reject())}else $(this).css("border-color","red"),n.reject()}),n.promise()}function isValidEmailAddress(n){var t=new RegExp(/^(("[\w-+\s]+")|([\w-+]+(?:\.[\w-+]+)*)|("[\w-+\s]+")([\w-+]+(?:\.[\w-+]+)*))(@((?:[\w-+]+\.)*\w[\w-+]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][\d]\.|1[\d]{2}\.|[\d]{1,2}\.))((25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\.){2}(25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\]?$)/i);return t.test(n)}var isValid=!1;$(function(){$("#submitMess").click(function(n){n.preventDefault();$.when(validation()).done(function(){var t=$("#firstName").val(),i=$("#clientEmail").val(),r=$("#message").val(),n=$("#bookingNo").val();n==""?n=0:"";$.ajax({type:"POST",url:"/Api/SendMessageChat",contentType:"application/json; charset=utf-8",dataType:"json",data:'{"name":"'+t+'", "email":"'+i+'", "message":"'+r+'", "bookingId":"'+n+'"}',success:function(n){n.statusCode===200&&($(".section-form").hide(),$(".section-success").show())},error:function(n){console.log(n.responseText);$('<p class="errMsg">Oops! Something went wrong. Please submit the form again.<\/p>').insertBefore("#formMessage")}})}).fail(function(){console.log("Input validation error");return})});$("#firstName").click(function(){$(this).removeAttr("style")});$("#clientEmail").click(function(){$(this).removeAttr("style")});$("#message").click(function(){$(this).removeAttr("style")})});