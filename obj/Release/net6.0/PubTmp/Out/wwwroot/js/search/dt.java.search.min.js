function createPagination(n){$(".dvPaginas").pagination("destroy");var t=$("#noOfPacks").val();$(".dvPaginas").pagination({pages:Math.ceil(t/10),currentPage:n,itemsOnPage:10,cssStyle:"light-theme",onPageClick:function(n){return scroll(0,0),ShowPacks(n),!1}})}function UncheckOptions(){$('input[type="checkbox"][id^="dotPrice"]:checked').each(function(){$(this).prop("checked",!1)});$('a[id^="falsedotPrice"]').each(function(){$(this).removeClass("falsechecked_1")});$('input[type="checkbox"][id^="dotLen"]:checked').each(function(){$(this).prop("checked",!1)});$('a[id^="falsedotLen"]').each(function(){$(this).removeClass("falsechecked_1")});$('input[type="checkbox"][id*="dotCountry"]:checked').each(function(){$(this).prop("checked",!1)});$('a[id*="falsedotCountry"]').each(function(){$(this).removeClass("falsechecked_1")});$('input[type="checkbox"][id*="dotCity"]:checked').each(function(){$(this).prop("checked",!1)});$('a[id*="falsedotCity"]').each(function(){$(this).removeClass("falsechecked_1")});$('input[type="checkbox"][id*="dotInter"]:checked').each(function(){$(this).prop("checked",!1)});$('a[id*="falsedotInter"]').each(function(){$(this).removeClass("falsechecked_1")});ShowPacks(1)}function unique(n){return $.grep(n,function(t,i){return i===$.inArray(t,n)})}function BuildFilterExpression(){var f="",t,i,e,r,o,u,s,n,h;for($('input[type="checkbox"][id^="dotPrice"]:checked').each(function(){f=f+$(this).val()+"P"}),f=f.length>1?f.substring(0,f.length-1):f,t="",$('input[type="checkbox"][id^="dotLen"]:checked').each(function(){t=t+$(this).val()+"L"}),t=t.length>1?t.substring(0,t.length-1):t,i="",e=[],$('input[type="checkbox"][id*="dotCountry"]:checked').each(function(){e.push($(this).val().replace(/_/g," "))}),e=unique(e),n=0;n<=e.length-1;n++)i=i+e[n].replace(/_/g," ")+"_";for(i=i.length>1?i.substring(0,i.length-1):i,r="",o=[],$('input[type="checkbox"][id*="dotCity"]:checked').each(function(){o.push($(this).val().replace(/_/g," "))}),o=unique(o),n=0;n<=o.length-1;n++)r=r+o[n].replace(/_/g," ")+"_";for(r=r.length>1?r.substring(0,r.length-1):r,u="",s=[],$('input[type="checkbox"][id*="dotInter"]:checked').each(function(){s.push($(this).val().replace(/_/g," "))}),s=unique(s),n=0;n<=s.length-1;n++)u=u+s[n].replace(/_/g," ")+"_";return u=u.length>1?u.substring(0,u.length-1):u,h="",f+"|"+t+"|"+i+"|"+r+"|"+u}function ShowPacks(n){var t;$("#dvPacks").hide();$("#dvPacks").html("");$("#dvWait").html('<img src="https://pictures.tripmasters.com/siteassets/d/ajax-loader.gif" width="50" height="50" /><\/br><\/br><div style="margin-let:10px;color:navy;">Loading ...<\/div>');$("#dvWait").show();$("#mainContainer").show();$("#errMessage").hide();$("#topContainer").show();$(".dvPagin").show();$('span[id^="totalPacks"]').text("");var i=BuildFilterExpression(),r=$("#awsQ").val(),u=$("#Sort").val(),f=$("#site").val();console.log("/SearchPackages site = "+f+", q = "+r+", filter = "+i+", sort = "+u);t={};t.url="/SearchPackages";t.type="POST";t.contentType="application/json; charset=utf-8";t.data='{"site":"'+f+'", "q":"'+r+'", "filter":"'+i+'", "sort":"'+u+'", "page":"'+n+'"}';t.dataType="html";t.success=function(t){$("#dvPacks").html(t);$("#dvWait").html("");$("#dvWait").hide();$("#dvPacks").show();$(".toolTip").each(function(){var n=$(this).attr("data").replace(/\_/g," ").split("|"),t="#"+$(this).attr("id");$(this).tooltip({content:'<div class="Text_Arial12" style="margin:10px">This packages is recommended for '+n[0]+".<br /><br /><b>customize it <\/b> "+n[1]+"<\/div>",items:".toolTip",position:{my:"center top",at:"center top-100",of:t},show:{delay:300},tooltipClass:"toolTipCss"})});var r=$("#noOfPacks").val();r==0||r==undefined?i=="||||"?($("#mainContainer").hide(),$("#errMessage").show()):($("#topContainer").hide(),$(".dvPagin").hide(),$("#msgNoPacks").html('<div style="padding:20px 0 10px 20px;">No itineraries found, please try other combination. Thank you!<\/div>'),$("#msgNoPacks").show()):$('span[id^="totalPacks"]').text(r+" itineraries ");SetPages(n)};t.error=function(n){$("#dvPacks").html(n.responseText);$("#dvWait").html("");$("#dvWait").hide();$("#dvPacks").show()};$.ajax(t)}function dvOpenMain(n){var t=$("#img"+n.replace("divInfo","")),i=$("#imgInfo"+n.replace("divInfo",""));$("#"+n+"").css("top",t.offset().top-4).css("left",i.left).show(300);$("html, body").animate({scrollTop:$("#"+n).offset().top-200},300)}function dvCloseMain(n){$("#"+n+"").hide(100)}function showPopUp(n){var t,i,r,u;i=ObjectPosition(document.getElementById(n));u=i[0]-5+"px";r=i[1]+16+"px";n.indexOf("Partially")!=-1?(t='<div style="padding:0px 0px 7px 0px;"><b>Partially Guided:<\/b><\/div>',t=t+"<div>"+$("#inpparGuided").val().replace(".",".<br><br>")+"<\/div>"):n.indexOf("none")!=-1?(t='<div style="padding:0px 0px 7px 0px;"><b>None:<\/b><\/div>',t=t+"<div>has no value<\/div>"):(t='<div style="padding:0px 0px 7px 0px;"><b>Guided:<\/b><\/div>',t=t+"<div>"+$("#inpGuided").val().replace(".",".<br><br>")+"<\/div>");dvMpop=$('<div id="dvMess" class="Text_12_Blue"><\/div>');$("body").append(dvMpop);$("#dvMess").html(t);$("#dvMess").attr("style","left:"+u+"; top:"+r+"; position:absolute; display:block; border:solid 1px black; width:300px; padding:10px; background-color:#FFF;");$("#dvMess").show()}function hidePopUp(){$("#dvMess").hide()}function ShowMoreObjects(n){$("#"+n+"Link").hide();$("#"+n).css("left",($(window).width()-$("#"+n).width())/2).css("top","50px");$(window).scrollTop(0);$("#dvBack").css("width","100%").css("height",$(document).height()+200+"px").show();$("#"+n).show()}function CloseMoreObjects(n,t){$("#"+n).hide();$("#"+n+"Link").show();$("#dvBack").hide();t==1?$(window).scrollTop(0):$("html, body").animate({scrollTop:$("#"+n.replace("More","top")).offset().top-35},300)}function ApplyFilters(n){CloseMoreObjects(n,1);ShowPacks(1)}function SetPages(n){var u=$("#noOfPacks").val(),r=Math.ceil(u/10),t="";if(t=t+"Page(s): ",n>0){if(r<=7)for(i=1;i<=r;i++)t=i!=n?t+'<span class="spNumUnselect"><a onclick="ShowPacks('+i+')">'+i+"<\/a><\/span>":t+'<span class="spNumSelect">'+i+"<\/span>";else if(n<5){for(i=1;i<=5;i++)t=i!=n?t+'<span class="spNumUnselect"><a onclick="ShowPacks('+i+')">'+i+"<\/a><\/span>":t+'<span class="spNumSelect">'+i+"<\/span>";t=t+'<span style="margin:0px 2px;color:Navy;">...<\/span>';t=t+'<span class="spNumUnselect"><a onclick="ShowPacks('+r+')">'+r+"<\/a><\/span>"}else if(t=t+'<span class="spNumUnselect"><a onclick="ShowPacks(1)">1<\/a><\/span>',t=t+'<span style="margin:0px 2px;color:Navy;">...<\/span>',n+3<r){for(i=n-1;i<=n+2;i++)t=i!=n?t+'<span class="spNumUnselect"><a onclick="ShowPacks('+i+')">'+i+"<\/a><\/span>":t+'<span class="spNumSelect">'+i+"<\/span>";t=t+'<span style="margin:0px 2px;color:Navy;">...<\/span>';t=t+'<span class="spNumUnselect"><a onclick="ShowPacks('+r+')">'+r+"<\/a><\/span>"}else for(i=r-4;i<=r;i++)t=i!=n?t+'<span class="spNumUnselect"><a onclick="ShowPacks('+i+')">'+i+"<\/a><\/span>":t+'<span class="spNumSelect">'+i+"<\/span>";$('div[id^="idPages"]').addClass("dvPaginNoContent").html(t);$('div[id="idPages2"] a').click(function(){scrollTo(0,0)})}else t=t+'<span class="spNumSelect">0<\/span>',$('div[id^="idPages"]').addClass("dvPaginNoContent").html(t),$('div[id="idPages2"] a').click(function(){scrollTo(0,0)})}var fileVersion=8012022,site="";$(document).ready(function(){$(".falsecheck_1").click(function(){$(this).hasClass("falsechecked_1")?$(this).removeClass("falsechecked_1"):$(this).addClass("falsechecked_1");$(this.hash).trigger("click");var n=$(this).attr("id");return n.substring(0,1)!="2"?($("#2"+n).hasClass("falsechecked_1")?$("#2"+n).removeClass("falsechecked_1"):$("#2"+n).addClass("falsechecked_1"),$("#2"+n.replace("false","")).trigger("click")):($("#"+n.replace("2","")).hasClass("falsechecked_1")?$("#"+n.replace("2","")).removeClass("falsechecked_1"):$("#"+n.replace("2","")).addClass("falsechecked_1"),$("#"+n.replace("2false","")).trigger("click")),!1});$('a[id^="falsedotPrice"]').click(function(){ShowPacks(1)});$('a[id^="falsedotLen"]').click(function(){ShowPacks(1)});$('div[id^="top"] a[id^="falsedotCountry"]').click(function(){ShowPacks(1)});$('div[id^="top"] a[id^="falsedotCity"]').click(function(){ShowPacks(1)});$('div[id^="top"] a[id^="falsedotInter"]').click(function(){ShowPacks(1)});$("#Sort").change(function(){ShowPacks(1)});$("#q").val($("#awsQ").val());ShowPacks(1)});